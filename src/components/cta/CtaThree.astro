<script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("newsletterForm");

    const submitNewsletterForm = async (e) => {
      e.preventDefault();

      const email = document.getElementById("newsletterEmail").value;

      if (!email) {
        return;
      }

      const data = {
        email,
        message: "Meld meg på nyhetsbrev",
      };

      try {
        const response = await fetch(
          "https://hook.eu2.make.com/vj6kqtigmxnoapsl5dynsaxbtnbbl74f",
          {
            method: "POST",
            body: JSON.stringify(data),
          }
        );

        if (response.ok) {
          form.reset();
        }
      } catch (error) {
        console.error("Error:", error);
      }
    };

    form.addEventListener("submit", submitNewsletterForm);
  });
</script>

<section>
  <div>
    <div class="grid gap-12 lg:gap-0 lg:grid-cols-2 items-center bg-regent-500">
      <section class="bg-regent-500 overflow-hidden">
        <div class="overflow-hidden h-full">
          <img
            class="aspect-square object-cover"
            alt="#_"
            src="https://plus.unsplash.com/premium_photo-1661964160294-ed7970a23c6b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80"
            class="w-full"
          />
        </div>
      </section>
      <section class="md:px-12 lg:px-24 px-8">
        <div class="text-left">
          <div>
            <p class="text-2xl lg:text-3xl text-black">
              Vi har pulsen på generativ kunstig intelligens
            </p>
            <p class="text-pretty mt-4 text-lg text-black/80 font-medium">
              Meld deg på vår nyhetsbrev for å lese våre ukentlige artikler om
              utviklingen av AI og hvordan den påvirker din bedrift.
            </p>
          </div>
          <form
            id="newsletterForm"
            class="mt-10 flex w-full max-w-xl items-center justify-center"
          >
            <div class="mt-3 flex w-full flex-col gap-1 text-center">
              <input
                id="newsletterEmail"
                name="email"
                type="email"
                class="lg:px-12 px-6 py-4 bg-white text-center placeholder-gray-400 border border-gray-300 duration-200 focus:outline-none focus:ring focus:ring-regent-100 focus:border-regent-300 w-full rounded-full"
                placeholder="Din epostadresse..."
                required=""
              /><button
                type="submit"
                class="inline-flex items-center lg:text-xl justify-center w-auto lg:px-12 px-6 py-4 text-center text-black duration-200 bg-white font-medium rounded-full text-base focus:outline-none focus:ring-2 focus:ring-offset-2 hover:text-white focus:ring-regent-900 ring-offset-2 hover:bg-regent-900"
              >
                Meld meg på nyhetsbrev
              </button>
            </div>
          </form>
        </div>
      </section>
    </div>
  </div>
</section>
